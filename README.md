# 🚀 U-ROB Coding Challenge

This project contains my approach to solving the U-ROB Coding Challenge.

It consists primarily of a web-based user interface (Angular) backed by an API server (Typescript with Bun). 

Additionally, the project includes a CLI tool for standalone route planning and the possibility to calculate the best drone dock location, implemented in both TypeScript (with Bun) and Python (automatically generated by AI with the typescript code as reference). The CLI tool performs the same route calculations as the web API and returns the same structured JSON result.

---

## ⚡ Features

- Plan optimized drone survey routes based on:
  - Flight speed
  - Survey time per point
  - Maximum flight time
  - Charging time
  - Maximum operating radius around the starting point (dock location) (Additional assumption to the given ones)
- Calculates the best dock position (drone starting position) if no specific coordinate for this is given
- Supports automatic removal of unreachable points (very simplified, needs to be revised)
- Outputs structured JSON data for further processing
- Web-based UI and API are Dockerized

---

## 📦 Requirements

- Bun 1.2.8+ (for API ("server") and TypeScript CLI tool)
- NodeJS 20+ (for Angular Frontend ("webapp"))
- Docker (to build and run a Docker Container of the server & webapp)
- Python 3.9+ (for Python CLI tool)

---

## ⚙️ CLI Usage

### For CLI usage, please refer to the README files in the respective subdirectories

---

## 🐳 Docker Usage

### 1. Build the Web-UI and API-Server Docker:

```bash
docker build -t urob-coding-challenge .
```

### 2. Run the Container:

```bash
docker run -p 8080:80 urob-coding-challenge
```

### 3. Usage:

Open http\://localhost:8080 in your Browser

---

## 💡 Approach & Assumptions

My solution uses a greedy algorithm to generate "flight legs" by selecting the next nearest reachable point that fits within the drone's maximum flight time (including travel, survey, and return durations). Each leg always returns to the base before the battery is considered depleted. If a full route cannot be completed due to unreachable points, these are removed iteratively until a feasible plan is found.

### Best dock location calculation:

If no custom starting coordinate is provided, the application calculates the best dock (starting) location by averaging all input coordinates to find their geographic centroid. This approach minimizes the overall distance to all points and maximizes route flexibility while remaining inside the defined mission radius.

Key assumptions:

- All coordinates are accessible in open airspace without terrain or no-fly restrictions.

- The drone can only visit a point if it can return safely to base afterwards.

- Only one drone is used at a time.

- Survey time is fixed per point.

- Waiting for completion of the full charging time is required after each leg, regardless of remaining battery.

---

## 🗺️ Roadmap / Ideas / ToDos

- [ ] Improved route optimization (e.g. [2-opt](https://en.wikipedia.org/wiki/2-opt))
- [ ] Switch between different routing strategies (greedy, TSP (2-opt), custom)
- [ ] Support for multiple docks/drones
- [ ] Calculate and select the best dock position (drone launch site) based on multiple user-defined coordinates (+ radius?)
- [ ] Complex (polygon) fields instead of coordinates and the assumption that each field has 200m sides and a survey time of x minutes
- [ ] Route export options: e.g. CSV, KML
- [ ] Integration of no-fly zones, terrain elevation data, and other restrictions (user-defined restricted areas, e.g., high-voltage lines or protected areas)
- [ ] Authentication and user sessions (data security)
- [ ] Projects and the ability to save them for later
- [ ] Put the route planning code into a separate package that can be used by both the API and the CLI tool to avoid duplicate code
- [ ] Extended User-friendly error messages and validations in UI
- [ ] Automated tests for everything (Unit-Tests)

---

## 👤 Author & Legal Notice

Sven Lemmermann for the U-ROB Coding Challenge.

> The webapp includes the logo of "U-ROB", this is for demonstration purposes only. All rights to the logo remain with the respective company.